{% extends "base.html" %}

<!--
# (C) British Crown Copyright 2013, Met Office
#
# This file is part of metarelate.
#
# metarelate is free software: you can redistribute it and/or 
# modify it under the terms of the GNU Lesser General Public License 
# as published by the Free Software Foundation, either version 3 of 
# the License, or (at your option) any later version.
#
# metarelate is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with metarelate. If not, see <http://www.gnu.org/licenses/>.
-->


{% block title %}: {{ title }}{% endblock %}

{% block head %}
<script type="text/javascript" src="{{ STATIC_URL }}jquery-1.7.2.min.js"></script>
<script src="{{ ADMIN_MEDIA_PREFIX }}js/admin/RelatedObjectLookups.js"></script>

{% endblock %}



{% block content %}

<p>
<a href="{% url 'search' %}"> search </a>
<p>


<!-- {% if search %} -->
<!-- <p> -->
<!-- <a href="{{ search.url }}"> {{ search.label }} </a> -->
<!-- <p> -->
<!-- {% endif %} -->

<!-- {% if create %} -->
<!-- <p> -->
<!-- <a href="{{ create.url }}"> {{ create.label }} </a> -->
<!-- <p> -->
<!-- {% endif %} -->


<!-- {% if exact %} -->
<!-- <a href="{{ exact.url }}"> {{ exact.label }} </a> -->
<!-- <p> -->
<!-- {% endif %} -->


{% if form %}

<h2>Control Panel</h2>
<form action="" method="post">

<!-- <p> -->
<!-- <input class="recordbutton" type="submit" {% if read_only %}disabled="disabled"{% endif %} name="load" value="Load Data from Static Data to the local Triplestore"/> -->
<!-- <p> -->
<!-- <input class="recordbutton" type="submit" {% if read_only %}disabled="disabled"{% endif %} name="revert" value="Revert the Triplestore to the  Static Data State"/> -->
<p>
Retrieve the current merge of this branch and master:
<p>
<input class="recordbutton" type="submit" {% if read_only %}disabled="disabled"{% endif %} name="save" value="{{ branch }}"/>
<p>
Validate the current merge of this branch and master:
<p>
<input class="recordbutton" type="submit" {% if read_only %}disabled="disabled"{% endif %} name="validate" value="{{ branch }}" label="Validate"/>

<p>

{% if branch %}
Delete this branch:
<p>
(this cannot be undone)
<p>
<input class="recordbutton" type="submit" {% if read_only %}disabled="disabled"{% endif %} name="delete" value="{{ branch }}" label="Branch"/>
<p>



{% if upload %}

{% for up in upload %}

<p>
<a href="{{ up.url }}">{{ up.docstring }}</a>
<p>

{% endfor %}

{% endif %}
{% endif %}

{% if not branch %}
Create a new branch:
<p>
<input class="recordbutton" type="submit" {% if read_only %}disabled="disabled"{% endif %} name="branch" value="branch" label="Branch"/>
<p>
{% endif %}



{% if mappings %}
<h3>Live mappings in this branch:</h3>
{% for mapping in mappings %}

    <ul>
    <li><a href="{{ mapping.url }}">{{ mapping.label }}</a></li>
    </ul>


{% endfor %}

{% endif %}



{% if invalid %}

{% for inv in invalid %}

  <h3>{{ inv.label }}</h3>

  {% for mapping in inv.mappings %}
    <ul>
    <li><a href="{{ mapping.url }}">{{ mapping.label }}</a></li>
    </ul>
  {% endfor %}

{% endfor %}
{% endif %}


{% csrf_token %}

{{ form.as_p }}



</form>
{% endif %}




{% if itemlist %}
<h2>Define Search Criteria</h2>
{% for item in itemlist %}
<li>{{ item }}</li>
{% endfor %}
{% endif %}


{% if add %}
<li><a href="{{ add.url }}"> {{ add.label }} </a></li>
{% endif %}

{% if addstash %}
<li><a href="{{ addstash.url }}"> {{ addstash.label }} </a></li>
{% endif %}

{% if addfc %}
<li><a href="{{ addfc.url }}"> {{ addfc.label }} </a></li>
{% endif %}



<p>
{% if clear %}
<a href="{{ clear.url }}"> {{ clear.label }} </a>
{% endif %}

<p>
{% if um %}
<a href="{{ um.url }}"> {{ um.label }} </a>
{% endif %}
<p>
{% if cf %}
<a href="{{ cf.url }}"> {{ cf.label }} </a>
{% endif %}
<p>
{% if grib %}
<a href="{{ grib.url }}"> {{ grib.label }} </a>
{% endif %}


{% endblock %}
